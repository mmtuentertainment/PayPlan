{
  "description": "Test fixture with weekend and holiday due dates for business-day shift testing",
  "testCases": [
    {
      "name": "Weekend shift: Saturday to Monday",
      "input": {
        "items": [
          {
            "provider": "Klarna",
            "installment_no": 1,
            "due_date": "2025-10-04",
            "amount": 100,
            "currency": "USD",
            "autopay": true,
            "late_fee": 10
          }
        ],
        "paycheckDates": ["2025-10-01", "2025-10-15", "2025-11-01"],
        "minBuffer": 500,
        "timeZone": "America/New_York",
        "businessDayMode": true,
        "country": "US"
      },
      "expected": {
        "shiftedDueDate": "2025-10-06",
        "shiftReason": "WEEKEND",
        "movedDatesCount": 1,
        "noWeekendAutopayFlag": true,
        "hasShiftedInfoFlag": true
      }
    },
    {
      "name": "Holiday shift: Thanksgiving to next business day",
      "input": {
        "items": [
          {
            "provider": "Affirm",
            "installment_no": 2,
            "due_date": "2025-11-27",
            "amount": 150,
            "currency": "USD",
            "autopay": false,
            "late_fee": 15
          }
        ],
        "paycheckDates": ["2025-11-01", "2025-11-15", "2025-12-01"],
        "minBuffer": 500,
        "timeZone": "America/New_York",
        "businessDayMode": true,
        "country": "US"
      },
      "expected": {
        "shiftedDueDate": "2025-11-28",
        "shiftReason": "HOLIDAY",
        "movedDatesCount": 1,
        "hasShiftedInfoFlag": true
      }
    },
    {
      "name": "Custom skip date shift",
      "input": {
        "items": [
          {
            "provider": "Zip",
            "installment_no": 1,
            "due_date": "2025-10-15",
            "amount": 75,
            "currency": "USD",
            "autopay": false,
            "late_fee": 5
          }
        ],
        "paycheckDates": ["2025-10-01", "2025-10-15", "2025-11-01"],
        "minBuffer": 500,
        "timeZone": "America/New_York",
        "businessDayMode": true,
        "country": "US",
        "customSkipDates": ["2025-10-15"]
      },
      "expected": {
        "shiftedDueDate": "2025-10-16",
        "shiftReason": "CUSTOM",
        "movedDatesCount": 1
      }
    },
    {
      "name": "Business day mode OFF - no shift",
      "input": {
        "items": [
          {
            "provider": "Sezzle",
            "installment_no": 1,
            "due_date": "2025-10-04",
            "amount": 80,
            "currency": "USD",
            "autopay": true,
            "late_fee": 8
          }
        ],
        "paycheckDates": ["2025-10-01", "2025-10-15", "2025-11-01"],
        "minBuffer": 500,
        "timeZone": "America/New_York",
        "businessDayMode": false
      },
      "expected": {
        "shiftedDueDate": "2025-10-04",
        "noShift": true,
        "movedDatesCount": 0,
        "hasWeekendAutopayFlag": true
      }
    },
    {
      "name": "No shift needed: Friday business day",
      "input": {
        "items": [
          {
            "provider": "PayPal",
            "installment_no": 1,
            "due_date": "2025-10-03",
            "amount": 120,
            "currency": "USD",
            "autopay": false,
            "late_fee": 12
          }
        ],
        "paycheckDates": ["2025-10-01", "2025-10-15", "2025-11-01"],
        "minBuffer": 500,
        "timeZone": "America/New_York",
        "businessDayMode": true,
        "country": "US"
      },
      "expected": {
        "shiftedDueDate": "2025-10-03",
        "noShift": true,
        "movedDatesCount": 0
      }
    },
    {
      "name": "Multiple items with mixed scenarios",
      "input": {
        "items": [
          {
            "provider": "Klarna",
            "installment_no": 1,
            "due_date": "2025-10-03",
            "amount": 100,
            "currency": "USD",
            "autopay": false,
            "late_fee": 10
          },
          {
            "provider": "Affirm",
            "installment_no": 1,
            "due_date": "2025-10-04",
            "amount": 50,
            "currency": "USD",
            "autopay": true,
            "late_fee": 5
          },
          {
            "provider": "Zip",
            "installment_no": 1,
            "due_date": "2025-11-27",
            "amount": 75,
            "currency": "USD",
            "autopay": false,
            "late_fee": 7
          }
        ],
        "paycheckDates": ["2025-10-01", "2025-10-15", "2025-11-01", "2025-11-15", "2025-12-01"],
        "minBuffer": 500,
        "timeZone": "America/New_York",
        "businessDayMode": true,
        "country": "US"
      },
      "expected": {
        "movedDatesCount": 2,
        "shifts": [
          {
            "originalDueDate": "2025-10-04",
            "shiftedDueDate": "2025-10-06",
            "reason": "WEEKEND"
          },
          {
            "originalDueDate": "2025-11-27",
            "shiftedDueDate": "2025-11-28",
            "reason": "HOLIDAY"
          }
        ]
      }
    }
  ]
}
